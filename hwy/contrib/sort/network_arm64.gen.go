// Code generated by github.com/ajroetker/go-highway/cmd/hwygen. DO NOT EDIT.

//go:build arm64

package sort

import (
	"github.com/ajroetker/go-highway/hwy"
)

var SortSmallFloat32 func(data []float32)
var SortSmallFloat64 func(data []float64)
var SortSmallInt32 func(data []int32)
var SortSmallInt64 func(data []int64)
var SortSmallUint32 func(data []uint32)
var SortSmallUint64 func(data []uint64)
var IsSortedFloat32 func(data []float32) bool
var IsSortedFloat64 func(data []float64) bool
var IsSortedInt32 func(data []int32) bool
var IsSortedInt64 func(data []int64) bool
var IsSortedUint32 func(data []uint32) bool
var IsSortedUint64 func(data []uint64) bool

// SortSmall sorts a small slice in-place using sorting networks.
// For slices up to 2*lanes elements, uses optimized sorting.
// For larger slices, falls back to insertion sort.
//
// This function dispatches to the appropriate SIMD implementation at runtime.
func SortSmall[T hwy.Lanes](data []T) {
	switch any(data).(type) {
	case []float32:
		SortSmallFloat32(any(data).([]float32))
	case []float64:
		SortSmallFloat64(any(data).([]float64))
	case []int32:
		SortSmallInt32(any(data).([]int32))
	case []int64:
		SortSmallInt64(any(data).([]int64))
	case []uint32:
		SortSmallUint32(any(data).([]uint32))
	case []uint64:
		SortSmallUint64(any(data).([]uint64))
	}
}

// IsSorted checks if a slice is sorted in ascending order.
//
// This function dispatches to the appropriate SIMD implementation at runtime.
func IsSorted[T hwy.Lanes](data []T) bool {
	switch any(data).(type) {
	case []float32:
		return IsSortedFloat32(any(data).([]float32))
	case []float64:
		return IsSortedFloat64(any(data).([]float64))
	case []int32:
		return IsSortedInt32(any(data).([]int32))
	case []int64:
		return IsSortedInt64(any(data).([]int64))
	case []uint32:
		return IsSortedUint32(any(data).([]uint32))
	case []uint64:
		return IsSortedUint64(any(data).([]uint64))
	}
	panic("unreachable")
}

func init() {
	if hwy.NoSimdEnv() {
		initNetworkFallback()
		return
	}
	initNetworkNEON()
	return
}

func initNetworkNEON() {
	SortSmallFloat32 = BaseSortSmall_neon
	SortSmallFloat64 = BaseSortSmall_neon_Float64
	SortSmallInt32 = BaseSortSmall_neon_Int32
	SortSmallInt64 = BaseSortSmall_neon_Int64
	SortSmallUint32 = BaseSortSmall_neon_Uint32
	SortSmallUint64 = BaseSortSmall_neon_Uint64
	IsSortedFloat32 = BaseIsSorted_neon
	IsSortedFloat64 = BaseIsSorted_neon_Float64
	IsSortedInt32 = BaseIsSorted_neon_Int32
	IsSortedInt64 = BaseIsSorted_neon_Int64
	IsSortedUint32 = BaseIsSorted_neon_Uint32
	IsSortedUint64 = BaseIsSorted_neon_Uint64
}

func initNetworkFallback() {
	SortSmallFloat32 = BaseSortSmall_fallback
	SortSmallFloat64 = BaseSortSmall_fallback_Float64
	SortSmallInt32 = BaseSortSmall_fallback_Int32
	SortSmallInt64 = BaseSortSmall_fallback_Int64
	SortSmallUint32 = BaseSortSmall_fallback_Uint32
	SortSmallUint64 = BaseSortSmall_fallback_Uint64
	IsSortedFloat32 = BaseIsSorted_fallback
	IsSortedFloat64 = BaseIsSorted_fallback_Float64
	IsSortedInt32 = BaseIsSorted_fallback_Int32
	IsSortedInt64 = BaseIsSorted_fallback_Int64
	IsSortedUint32 = BaseIsSorted_fallback_Uint32
	IsSortedUint64 = BaseIsSorted_fallback_Uint64
}
