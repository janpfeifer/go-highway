//go:build !noasm && arm64
// Code generated by hwygen -c. DO NOT EDIT.

package matmul

import (
	"unsafe"

	"github.com/ajroetker/go-highway/hwy"
	"github.com/ajroetker/go-highway/hwy/contrib/matmul/asm"
)

func init() {
	if hwy.HasSME() {
		return
	}
	FusedInt8MatMul = fusedInt8MatMulAsmF32
}

func fusedInt8MatMulAsmF32(input []float32, weights []int8, scales, output []float32, M, K, N, groupSize int) {
	if len(input) == 0 || len(weights) == 0 || len(scales) == 0 || len(output) == 0 {
		return
	}
	MVal := int64(M)
	KVal := int64(K)
	NVal := int64(N)
	groupSizeVal := int64(groupSize)
	asm.FusedInt8MatMul_F32(
		unsafe.Pointer(&input[0]),
		unsafe.Pointer(&weights[0]),
		unsafe.Pointer(&scales[0]),
		unsafe.Pointer(&output[0]),
		unsafe.Pointer(&MVal),
		unsafe.Pointer(&KVal),
		unsafe.Pointer(&NVal),
		unsafe.Pointer(&groupSizeVal),
	)
}

