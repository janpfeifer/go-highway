//go:build !noasm && amd64
// Code generated by GoAT. DO NOT EDIT.
// versions:
// 	clang   21.1.8
// 	objdump 2.45.1
// flags: -mavx2 -mfma -mf16c -O3
// source: ../c/matmul_avx2_amd64.c

#include "textflag.h"

// Constant pool data
DATA CPI1_0<>+0(SB)/4, $0x00000001
GLOBL CPI1_0<>(SB), (RODATA|NOPTR), $4
DATA CPI1_1<>+0(SB)/4, $0x00007fff
GLOBL CPI1_1<>(SB), (RODATA|NOPTR), $4

TEXT 路matmul_avx2_f16(SB), $16-48
	MOVQ a+0(FP), DI
	MOVQ b+8(FP), SI
	MOVQ c+16(FP), DX
	MOVQ pm+24(FP), CX
	MOVQ pn+32(FP), R8
	MOVQ pk+40(FP), R9
	WORD $0x8949; BYTE $0xf3               // movq	%rsi, %r11
	LONG $0x243c8948                       // movq	%rdi, (%rsp)
	WORD $0x8b48; BYTE $0x01               // movq	(%rcx), %rax
	WORD $0x8b49; BYTE $0x08               // movq	(%r8), %rcx
	LONG $0x24448948; BYTE $0x08           // movq	%rax, 8(%rsp)
	WORD $0x8548; BYTE $0xc0               // testq	%rax, %rax
	WORD $0x9f0f; BYTE $0xc0               // setg	%al
	WORD $0x8548; BYTE $0xc9               // testq	%rcx, %rcx
	LONG $0xc69f0f40                       // setg	%sil
	WORD $0x2040; BYTE $0xc6               // andb	%al, %sil
	LONG $0x01fe8040                       // cmpb	$1, %sil
	JNE  BB0_21
	WORD $0x8b4d; BYTE $0x01               // movq	(%r9), %r8
	WORD $0x854d; BYTE $0xc0               // testq	%r8, %r8
	JLE  BB0_12
	QUAD $0xfffffffffffeb949; WORD $0x7fff // movabsq	$9223372036854775806, %r9
	WORD $0x214d; BYTE $0xc1               // andq	%r8, %r9
	LONG $0x24048b48                       // movq	(%rsp), %rax
	LONG $0x02508d4c                       // leaq	2(%rax), %r10
	LONG $0x003c8d4b                       // leaq	(%r8,%r8), %rdi
	QUAD $0x000000008d1c8d48               // leaq	(,%rcx,4), %rbx
	WORD $0x3145; BYTE $0xf6               // xorl	%r14d, %r14d
	JMP  BB0_3

BB0_11:
	WORD $0xff49; BYTE $0xc6     // incq	%r14
	WORD $0x0149; BYTE $0xfa     // addq	%rdi, %r10
	LONG $0x24743b4c; BYTE $0x08 // cmpq	8(%rsp), %r14
	JE   BB0_21

BB0_3:
	WORD $0x894c; BYTE $0xf0 // movq	%r14, %rax
	LONG $0xc0af0f49         // imulq	%r8, %rax
	LONG $0x24348b48         // movq	(%rsp), %rsi
	LONG $0x463c8d4c         // leaq	(%rsi,%rax,2), %r15
	WORD $0x894c; BYTE $0xf0 // movq	%r14, %rax
	LONG $0xc1af0f48         // imulq	%rcx, %rax
	LONG $0x42248d4c         // leaq	(%rdx,%rax,2), %r12
	WORD $0x894c; BYTE $0xde // movq	%r11, %rsi
	WORD $0xed31             // xorl	%ebp, %ebp
	JMP  BB0_4

BB0_10:
	LONG $0x1d7dc3c4; WORD $0x6c04; BYTE $0x00 // vcvtps2ph	$0, %ymm0, (%r12,%rbp,2)
	LONG $0x08c58348                           // addq	$8, %rbp
	LONG $0x10c68348                           // addq	$16, %rsi
	WORD $0x3948; BYTE $0xcd                   // cmpq	%rcx, %rbp
	JGE  BB0_11

BB0_4:
	LONG $0xc057f8c5 // vxorps	%xmm0, %xmm0, %xmm0
	LONG $0x01f88349 // cmpq	$1, %r8
	JNE  BB0_6
	WORD $0xc031     // xorl	%eax, %eax
	JMP  BB0_8

BB0_6:
	WORD $0x8949; BYTE $0xf5 // movq	%rsi, %r13
	WORD $0xc031             // xorl	%eax, %eax

BB0_7:
	LONG $0x7979c2c4; WORD $0x424c; BYTE $0xfe // vpbroadcastw	-2(%r10,%rax,2), %xmm1
	LONG $0x137de2c4; BYTE $0xc9               // vcvtph2ps	%xmm1, %ymm1
	LONG $0x137dc2c4; WORD $0x0055             // vcvtph2ps	(%r13), %ymm2
	LONG $0x7979c2c4; WORD $0x421c             // vpbroadcastw	(%r10,%rax,2), %xmm3
	LONG $0x137de2c4; BYTE $0xdb               // vcvtph2ps	%xmm3, %ymm3
	LONG $0xa875e2c4; BYTE $0xd0               // vfmadd213ps	%ymm0, %ymm1, %ymm2
	LONG $0x137dc2c4; WORD $0x4d44; BYTE $0x00 // vcvtph2ps	(%r13,%rcx,2), %ymm0
	LONG $0xa865e2c4; BYTE $0xc2               // vfmadd213ps	%ymm2, %ymm3, %ymm0
	LONG $0x02c08348                           // addq	$2, %rax
	WORD $0x0149; BYTE $0xdd                   // addq	%rbx, %r13
	WORD $0x3949; BYTE $0xc1                   // cmpq	%rax, %r9
	JNE  BB0_7

BB0_8:
	LONG $0x01c0f641                           // testb	$1, %r8b
	JE   BB0_10
	LONG $0x7979c2c4; WORD $0x470c             // vpbroadcastw	(%r15,%rax,2), %xmm1
	LONG $0x6b2c8d4d                           // leaq	(%r11,%rbp,2), %r13
	LONG $0x137de2c4; BYTE $0xc9               // vcvtph2ps	%xmm1, %ymm1
	LONG $0xc1af0f48                           // imulq	%rcx, %rax
	LONG $0x137dc2c4; WORD $0x4554; BYTE $0x00 // vcvtph2ps	(%r13,%rax,2), %ymm2
	LONG $0xb875e2c4; BYTE $0xc2               // vfmadd231ps	%ymm2, %ymm1, %ymm0
	JMP  BB0_10

BB0_12:
	LONG $0xc057f8c5               // vxorps	%xmm0, %xmm0, %xmm0
	LONG $0x1d7de3c4; WORD $0x00c0 // vcvtps2ph	$0, %ymm0, %xmm0
	LONG $0xff718d48               // leaq	-1(%rcx), %rsi
	LONG $0x03eec148               // shrq	$3, %rsi
	WORD $0xff48; BYTE $0xc6       // incq	%rsi
	WORD $0xf789                   // movl	%esi, %edi
	WORD $0xe783; BYTE $0x07       // andl	$7, %edi
	LONG $0xf8e68348               // andq	$-8, %rsi
	LONG $0x70428d4c               // leaq	112(%rdx), %r8
	LONG $0x090c8d4c               // leaq	(%rcx,%rcx), %r9
	WORD $0x8941; BYTE $0xfa       // movl	%edi, %r10d
	LONG $0x04e2c141               // shll	$4, %r10d
	WORD $0x3145; BYTE $0xdb       // xorl	%r11d, %r11d
	JMP  BB0_13

BB0_20:
	WORD $0xff49; BYTE $0xc3     // incq	%r11
	WORD $0x014d; BYTE $0xc8     // addq	%r9, %r8
	WORD $0x014c; BYTE $0xca     // addq	%r9, %rdx
	LONG $0x245c3b4c; BYTE $0x08 // cmpq	8(%rsp), %r11
	JE   BB0_21

BB0_13:
	LONG $0x39f98348 // cmpq	$57, %rcx
	JAE  BB0_15
	WORD $0xc031     // xorl	%eax, %eax
	JMP  BB0_17

BB0_15:
	WORD $0x8948; BYTE $0xf3 // movq	%rsi, %rbx
	WORD $0xc031             // xorl	%eax, %eax

BB0_16:
	LONG $0x1178c1c4; WORD $0x4044; BYTE $0x90 // vmovups	%xmm0, -112(%r8,%rax,2)
	LONG $0x1178c1c4; WORD $0x4044; BYTE $0xa0 // vmovups	%xmm0, -96(%r8,%rax,2)
	LONG $0x1178c1c4; WORD $0x4044; BYTE $0xb0 // vmovups	%xmm0, -80(%r8,%rax,2)
	LONG $0x1178c1c4; WORD $0x4044; BYTE $0xc0 // vmovups	%xmm0, -64(%r8,%rax,2)
	LONG $0x1178c1c4; WORD $0x4044; BYTE $0xd0 // vmovups	%xmm0, -48(%r8,%rax,2)
	LONG $0x1178c1c4; WORD $0x4044; BYTE $0xe0 // vmovups	%xmm0, -32(%r8,%rax,2)
	LONG $0x1178c1c4; WORD $0x4044; BYTE $0xf0 // vmovups	%xmm0, -16(%r8,%rax,2)
	LONG $0x1178c1c4; WORD $0x4004             // vmovups	%xmm0, (%r8,%rax,2)
	LONG $0x40c08348                           // addq	$64, %rax
	LONG $0xf8c38348                           // addq	$-8, %rbx
	JNE  BB0_16

BB0_17:
	WORD $0x8548; BYTE $0xff // testq	%rdi, %rdi
	JE   BB0_20
	LONG $0x42048d48         // leaq	(%rdx,%rax,2), %rax
	WORD $0xdb31             // xorl	%ebx, %ebx

BB0_19:
	LONG $0x0411f8c5; BYTE $0x18 // vmovups	%xmm0, (%rax,%rbx)
	LONG $0x10c38348             // addq	$16, %rbx
	WORD $0x3949; BYTE $0xda     // cmpq	%rbx, %r10
	JNE  BB0_19
	JMP  BB0_20

BB0_21:
	WORD $0xf8c5; BYTE $0x77 // vzeroupper
	RET

TEXT 路matmul_avx2_bf16(SB), $32-48
	MOVQ         a+0(FP), DI
	MOVQ         b+8(FP), SI
	MOVQ         c+16(FP), DX
	MOVQ         pm+24(FP), CX
	MOVQ         pn+32(FP), R8
	MOVQ         pk+40(FP), R9
	WORD         $0x8948; BYTE $0xf0               // movq	%rsi, %rax
	LONG         $0x243c8948                       // movq	%rdi, (%rsp)
	WORD         $0x8b48; BYTE $0x31               // movq	(%rcx), %rsi
	WORD         $0x8b49; BYTE $0x08               // movq	(%r8), %rcx
	LONG         $0x24748948; BYTE $0x08           // movq	%rsi, 8(%rsp)
	WORD         $0x8548; BYTE $0xf6               // testq	%rsi, %rsi
	LONG         $0xc69f0f40                       // setg	%sil
	WORD         $0x8548; BYTE $0xc9               // testq	%rcx, %rcx
	LONG         $0xc09f0f41                       // setg	%r8b
	WORD         $0x2041; BYTE $0xf0               // andb	%sil, %r8b
	LONG         $0x01f88041                       // cmpb	$1, %r8b
	JNE          BB1_21
	WORD         $0x8b4d; BYTE $0x01               // movq	(%r9), %r8
	WORD         $0x854d; BYTE $0xc0               // testq	%r8, %r8
	JLE          BB1_2
	QUAD         $0xfffffffffffeb949; WORD $0x7fff // movabsq	$9223372036854775806, %r9
	WORD         $0x214d; BYTE $0xc1               // andq	%r8, %r9
	LONG         $0x24348b48                       // movq	(%rsp), %rsi
	LONG         $0x02568d4c                       // leaq	2(%rsi), %r10
	LONG         $0x00348d4b                       // leaq	(%r8,%r8), %rsi
	LONG         $0x24748948; BYTE $0x10           // movq	%rsi, 16(%rsp)
	QUAD         $0x000000008d1c8d48               // leaq	(,%rcx,4), %rbx
	WORD         $0x3145; BYTE $0xf6               // xorl	%r14d, %r14d
	VPBROADCASTD CPI1_0<>(SB), Y0                  // vpbroadcastd	LCPI1_0(%rip), %ymm0
	VPBROADCASTD CPI1_1<>(SB), Y1                  // vpbroadcastd	LCPI1_1(%rip), %ymm1
	JMP          BB1_6

BB1_14:
	WORD $0xff49; BYTE $0xc6     // incq	%r14
	LONG $0x2454034c; BYTE $0x10 // addq	16(%rsp), %r10
	LONG $0x24743b4c; BYTE $0x08 // cmpq	8(%rsp), %r14
	JE   BB1_21

BB1_6:
	WORD $0x894c; BYTE $0xf6 // movq	%r14, %rsi
	LONG $0xf0af0f49         // imulq	%r8, %rsi
	LONG $0x243c8b48         // movq	(%rsp), %rdi
	LONG $0x773c8d4c         // leaq	(%rdi,%rsi,2), %r15
	WORD $0x894c; BYTE $0xf6 // movq	%r14, %rsi
	LONG $0xf1af0f48         // imulq	%rcx, %rsi
	LONG $0x72248d4c         // leaq	(%rdx,%rsi,2), %r12
	WORD $0x8948; BYTE $0xc6 // movq	%rax, %rsi
	WORD $0xed31             // xorl	%ebp, %ebp
	JMP  BB1_7

BB1_13:
	LONG $0xd272e5c5; BYTE $0x10   // vpsrld	$16, %ymm2, %ymm3
	LONG $0xd8dbe5c5               // vpand	%ymm0, %ymm3, %ymm3
	LONG $0xd1feedc5               // vpaddd	%ymm1, %ymm2, %ymm2
	LONG $0xd3feedc5               // vpaddd	%ymm3, %ymm2, %ymm2
	LONG $0xd272edc5; BYTE $0x10   // vpsrld	$16, %ymm2, %ymm2
	LONG $0x397de3c4; WORD $0x01d3 // vextracti128	$1, %ymm2, %xmm3
	LONG $0x2b69e2c4; BYTE $0xd3   // vpackusdw	%xmm3, %xmm2, %xmm2
	LONG $0x7f7ac1c4; WORD $0x6c14 // vmovdqu	%xmm2, (%r12,%rbp,2)
	LONG $0x08c58348               // addq	$8, %rbp
	LONG $0x10c68348               // addq	$16, %rsi
	WORD $0x3948; BYTE $0xcd       // cmpq	%rcx, %rbp
	JGE  BB1_14

BB1_7:
	LONG $0xd257e8c5         // vxorps	%xmm2, %xmm2, %xmm2
	LONG $0x01f88349         // cmpq	$1, %r8
	JNE  BB1_9
	WORD $0x3145; BYTE $0xdb // xorl	%r11d, %r11d
	JMP  BB1_11

BB1_9:
	WORD $0x8949; BYTE $0xf5 // movq	%rsi, %r13
	WORD $0x3145; BYTE $0xdb // xorl	%r11d, %r11d

BB1_10:
	LONG $0x7cb70f43; WORD $0xfe5a             // movzwl	-2(%r10,%r11,2), %edi
	WORD $0xe7c1; BYTE $0x10                   // shll	$16, %edi
	LONG $0xdf6ef9c5                           // vmovd	%edi, %xmm3
	LONG $0x587de2c4; BYTE $0xdb               // vpbroadcastd	%xmm3, %ymm3
	LONG $0x337dc2c4; WORD $0x0065             // vpmovzxwd	(%r13), %ymm4
	LONG $0xf472ddc5; BYTE $0x10               // vpslld	$16, %ymm4, %ymm4
	LONG $0xa865e2c4; BYTE $0xe2               // vfmadd213ps	%ymm2, %ymm3, %ymm4
	LONG $0x3cb70f43; BYTE $0x5a               // movzwl	(%r10,%r11,2), %edi
	WORD $0xe7c1; BYTE $0x10                   // shll	$16, %edi
	LONG $0xd76ef9c5                           // vmovd	%edi, %xmm2
	LONG $0x587de2c4; BYTE $0xda               // vpbroadcastd	%xmm2, %ymm3
	LONG $0x337dc2c4; WORD $0x4d54; BYTE $0x00 // vpmovzxwd	(%r13,%rcx,2), %ymm2
	LONG $0xf272edc5; BYTE $0x10               // vpslld	$16, %ymm2, %ymm2
	LONG $0xa865e2c4; BYTE $0xd4               // vfmadd213ps	%ymm4, %ymm3, %ymm2
	LONG $0x02c38349                           // addq	$2, %r11
	WORD $0x0149; BYTE $0xdd                   // addq	%rbx, %r13
	WORD $0x394d; BYTE $0xd9                   // cmpq	%r11, %r9
	JNE  BB1_10

BB1_11:
	LONG $0x01c0f641               // testb	$1, %r8b
	JE   BB1_13
	LONG $0x683c8d48               // leaq	(%rax,%rbp,2), %rdi
	LONG $0x2cb70f47; BYTE $0x5f   // movzwl	(%r15,%r11,2), %r13d
	LONG $0x10e5c141               // shll	$16, %r13d
	LONG $0x6e79c1c4; BYTE $0xdd   // vmovd	%r13d, %xmm3
	LONG $0x587de2c4; BYTE $0xdb   // vpbroadcastd	%xmm3, %ymm3
	LONG $0xd9af0f4c               // imulq	%rcx, %r11
	LONG $0x337da2c4; WORD $0x5f24 // vpmovzxwd	(%rdi,%r11,2), %ymm4
	LONG $0xf472ddc5; BYTE $0x10   // vpslld	$16, %ymm4, %ymm4
	LONG $0xb865e2c4; BYTE $0xd4   // vfmadd231ps	%ymm4, %ymm3, %ymm2
	JMP  BB1_13

BB1_2:
	LONG $0xff718d48         // leaq	-1(%rcx), %rsi
	LONG $0x03eec148         // shrq	$3, %rsi
	WORD $0xff48; BYTE $0xc6 // incq	%rsi
	WORD $0xf089             // movl	%esi, %eax
	WORD $0xe083; BYTE $0x07 // andl	$7, %eax
	LONG $0xf8e68348         // andq	$-8, %rsi
	LONG $0x70428d4c         // leaq	112(%rdx), %r8
	LONG $0x090c8d4c         // leaq	(%rcx,%rcx), %r9
	WORD $0x8941; BYTE $0xc2 // movl	%eax, %r10d
	LONG $0x04e2c141         // shll	$4, %r10d
	WORD $0x3145; BYTE $0xdb // xorl	%r11d, %r11d
	LONG $0xc0eff9c5         // vpxor	%xmm0, %xmm0, %xmm0
	LONG $0xc9eff1c5         // vpxor	%xmm1, %xmm1, %xmm1
	JMP  BB1_3

BB1_20:
	WORD $0xff49; BYTE $0xc3     // incq	%r11
	WORD $0x014d; BYTE $0xc8     // addq	%r9, %r8
	WORD $0x014c; BYTE $0xca     // addq	%r9, %rdx
	LONG $0x245c3b4c; BYTE $0x08 // cmpq	8(%rsp), %r11
	JE   BB1_21

BB1_3:
	LONG $0x39f98348 // cmpq	$57, %rcx
	JAE  BB1_15
	WORD $0xdb31     // xorl	%ebx, %ebx
	JMP  BB1_17

BB1_15:
	WORD $0x8949; BYTE $0xf6 // movq	%rsi, %r14
	WORD $0xdb31             // xorl	%ebx, %ebx

BB1_16:
	LONG $0x7f7ec1c4; WORD $0x584c; BYTE $0x90 // vmovdqu	%ymm1, -112(%r8,%rbx,2)
	LONG $0x7f7ec1c4; WORD $0x584c; BYTE $0xb0 // vmovdqu	%ymm1, -80(%r8,%rbx,2)
	LONG $0x7f7ec1c4; WORD $0x584c; BYTE $0xd0 // vmovdqu	%ymm1, -48(%r8,%rbx,2)
	LONG $0x7f7ec1c4; WORD $0x584c; BYTE $0xf0 // vmovdqu	%ymm1, -16(%r8,%rbx,2)
	LONG $0x40c38348                           // addq	$64, %rbx
	LONG $0xf8c68349                           // addq	$-8, %r14
	JNE  BB1_16

BB1_17:
	WORD $0x8548; BYTE $0xc0 // testq	%rax, %rax
	JE   BB1_20
	LONG $0x5a1c8d48         // leaq	(%rdx,%rbx,2), %rbx
	WORD $0x3145; BYTE $0xf6 // xorl	%r14d, %r14d

BB1_19:
	LONG $0x7f7aa1c4; WORD $0x3304 // vmovdqu	%xmm0, (%rbx,%r14)
	LONG $0x10c68349               // addq	$16, %r14
	WORD $0x394d; BYTE $0xf2       // cmpq	%r14, %r10
	JNE  BB1_19
	JMP  BB1_20

BB1_21:
	WORD $0xf8c5; BYTE $0x77 // vzeroupper
	RET

TEXT 路matmul_avx2_f32(SB), $48-48
	MOVQ a+0(FP), DI
	MOVQ b+8(FP), SI
	MOVQ c+16(FP), DX
	MOVQ pm+24(FP), CX
	MOVQ pn+32(FP), R8
	MOVQ pk+40(FP), R9
	LONG $0x24748948; BYTE $0x18           // movq	%rsi, 24(%rsp)
	WORD $0x8b48; BYTE $0x01               // movq	(%rcx), %rax
	WORD $0x8b49; BYTE $0x08               // movq	(%r8), %rcx
	LONG $0x24048948                       // movq	%rax, (%rsp)
	WORD $0x8548; BYTE $0xc0               // testq	%rax, %rax
	WORD $0x9f0f; BYTE $0xc0               // setg	%al
	WORD $0x8548; BYTE $0xc9               // testq	%rcx, %rcx
	LONG $0xc69f0f40                       // setg	%sil
	WORD $0x2040; BYTE $0xc6               // andb	%al, %sil
	LONG $0x01fe8040                       // cmpb	$1, %sil
	JNE  BB2_22
	WORD $0x8b4d; BYTE $0x01               // movq	(%r9), %r8
	WORD $0x854d; BYTE $0xc0               // testq	%r8, %r8
	JLE  BB2_2
	WORD $0x8945; BYTE $0xc1               // movl	%r8d, %r9d
	LONG $0x03e18341                       // andl	$3, %r9d
	QUAD $0xfffffffffffcba49; WORD $0x7fff // movabsq	$9223372036854775804, %r10
	WORD $0x214d; BYTE $0xc2               // andq	%r8, %r10
	LONG $0x0c5f8d4c                       // leaq	12(%rdi), %r11
	QUAD $0x0000000085048d4a               // leaq	(,%r8,4), %rax
	LONG $0x24448948; BYTE $0x08           // movq	%rax, 8(%rsp)
	QUAD $0x000000008d348d4c               // leaq	(,%rcx,4), %r14
	LONG $0x763c8d4f                       // leaq	(%r14,%r14,2), %r15
	WORD $0x8949; BYTE $0xcc               // movq	%rcx, %r12
	LONG $0x04e4c149                       // shlq	$4, %r12
	WORD $0xf631                           // xorl	%esi, %esi
	LONG $0x24548948; BYTE $0x10           // movq	%rdx, 16(%rsp)
	JMP  BB2_6

BB2_15:
	LONG $0x24748b48; BYTE $0x20 // movq	32(%rsp), %rsi
	WORD $0xff48; BYTE $0xc6     // incq	%rsi
	LONG $0x24448b48; BYTE $0x08 // movq	8(%rsp), %rax
	WORD $0x0149; BYTE $0xc3     // addq	%rax, %r11
	WORD $0x0148; BYTE $0xc7     // addq	%rax, %rdi
	LONG $0x24343b48             // cmpq	(%rsp), %rsi
	LONG $0x24548b48; BYTE $0x10 // movq	16(%rsp), %rdx
	JE   BB2_22

BB2_6:
	LONG $0x24748948; BYTE $0x20 // movq	%rsi, 32(%rsp)
	WORD $0x8948; BYTE $0xf0     // movq	%rsi, %rax
	LONG $0xc1af0f48             // imulq	%rcx, %rax
	LONG $0x822c8d48             // leaq	(%rdx,%rax,4), %rbp
	LONG $0x246c8b4c; BYTE $0x18 // movq	24(%rsp), %r13
	WORD $0xc031                 // xorl	%eax, %eax
	JMP  BB2_7

BB2_14:
	LONG $0x4411fcc5; WORD $0x0085 // vmovups	%ymm0, (%rbp,%rax,4)
	LONG $0x08c08348               // addq	$8, %rax
	LONG $0x20c58349               // addq	$32, %r13
	WORD $0x3948; BYTE $0xc8       // cmpq	%rcx, %rax
	JGE  BB2_15

BB2_7:
	LONG $0xc057f8c5 // vxorps	%xmm0, %xmm0, %xmm0
	LONG $0x04f88349 // cmpq	$4, %r8
	JAE  BB2_9
	WORD $0xdb31     // xorl	%ebx, %ebx
	JMP  BB2_11

BB2_9:
	WORD $0x894c; BYTE $0xee // movq	%r13, %rsi
	WORD $0xdb31             // xorl	%ebx, %ebx

BB2_10:
	LONG $0x187dc2c4; WORD $0x9b4c; BYTE $0xf4 // vbroadcastss	-12(%r11,%rbx,4), %ymm1
	LONG $0x987de2c4; BYTE $0x0e               // vfmadd132ps	(%rsi), %ymm0, %ymm1
	LONG $0x187dc2c4; WORD $0x9b44; BYTE $0xf8 // vbroadcastss	-8(%r11,%rbx,4), %ymm0
	LONG $0x9875e2c4; WORD $0x8e04             // vfmadd132ps	(%rsi,%rcx,4), %ymm1, %ymm0
	LONG $0x187dc2c4; WORD $0x9b4c; BYTE $0xfc // vbroadcastss	-4(%r11,%rbx,4), %ymm1
	LONG $0x987de2c4; WORD $0xce0c             // vfmadd132ps	(%rsi,%rcx,8), %ymm0, %ymm1
	LONG $0x187dc2c4; WORD $0x9b04             // vbroadcastss	(%r11,%rbx,4), %ymm0
	LONG $0x9875a2c4; WORD $0x3e04             // vfmadd132ps	(%rsi,%r15), %ymm1, %ymm0
	LONG $0x04c38348                           // addq	$4, %rbx
	WORD $0x014c; BYTE $0xe6                   // addq	%r12, %rsi
	WORD $0x3949; BYTE $0xda                   // cmpq	%rbx, %r10
	JNE  BB2_10

BB2_11:
	WORD $0x854d; BYTE $0xc9 // testq	%r9, %r9
	JE   BB2_14
	WORD $0x894c; BYTE $0xf6 // movq	%r14, %rsi
	LONG $0xf3af0f48         // imulq	%rbx, %rsi
	WORD $0x014c; BYTE $0xee // addq	%r13, %rsi
	LONG $0x9f1c8d48         // leaq	(%rdi,%rbx,4), %rbx
	WORD $0xd231             // xorl	%edx, %edx

BB2_13:
	LONG $0x187de2c4; WORD $0x930c // vbroadcastss	(%rbx,%rdx,4), %ymm1
	LONG $0xb875e2c4; BYTE $0x06   // vfmadd231ps	(%rsi), %ymm1, %ymm0
	WORD $0xff48; BYTE $0xc2       // incq	%rdx
	WORD $0x014c; BYTE $0xf6       // addq	%r14, %rsi
	WORD $0x3949; BYTE $0xd1       // cmpq	%rdx, %r9
	JNE  BB2_13
	JMP  BB2_14

BB2_2:
	LONG $0xff418d48                           // leaq	-1(%rcx), %rax
	LONG $0x03e8c148                           // shrq	$3, %rax
	WORD $0xff48; BYTE $0xc0                   // incq	%rax
	WORD $0xc689                               // movl	%eax, %esi
	WORD $0xe683; BYTE $0x07                   // andl	$7, %esi
	LONG $0xf8e08348                           // andq	$-8, %rax
	LONG $0xe0ba8d48; WORD $0x0000; BYTE $0x00 // leaq	224(%rdx), %rdi
	QUAD $0x000000008d048d4c                   // leaq	(,%rcx,4), %r8
	WORD $0x8941; BYTE $0xf1                   // movl	%esi, %r9d
	LONG $0x05e1c141                           // shll	$5, %r9d
	WORD $0x3145; BYTE $0xd2                   // xorl	%r10d, %r10d
	LONG $0xc057f8c5                           // vxorps	%xmm0, %xmm0, %xmm0
	JMP  BB2_3

BB2_21:
	WORD $0xff49; BYTE $0xc2 // incq	%r10
	WORD $0x014c; BYTE $0xc7 // addq	%r8, %rdi
	WORD $0x014c; BYTE $0xc2 // addq	%r8, %rdx
	LONG $0x24143b4c         // cmpq	(%rsp), %r10
	JE   BB2_22

BB2_3:
	LONG $0x39f98348 // cmpq	$57, %rcx
	JAE  BB2_16
	WORD $0xdb31     // xorl	%ebx, %ebx
	JMP  BB2_18

BB2_16:
	WORD $0x8949; BYTE $0xc3 // movq	%rax, %r11
	WORD $0xdb31             // xorl	%ebx, %ebx

BB2_17:
	QUAD $0xffff209f8411fcc5; BYTE $0xff // vmovups	%ymm0, -224(%rdi,%rbx,4)
	QUAD $0xffff409f8411fcc5; BYTE $0xff // vmovups	%ymm0, -192(%rdi,%rbx,4)
	QUAD $0xffff609f8411fcc5; BYTE $0xff // vmovups	%ymm0, -160(%rdi,%rbx,4)
	LONG $0x4411fcc5; WORD $0x809f       // vmovups	%ymm0, -128(%rdi,%rbx,4)
	LONG $0x4411fcc5; WORD $0xa09f       // vmovups	%ymm0, -96(%rdi,%rbx,4)
	LONG $0x4411fcc5; WORD $0xc09f       // vmovups	%ymm0, -64(%rdi,%rbx,4)
	LONG $0x4411fcc5; WORD $0xe09f       // vmovups	%ymm0, -32(%rdi,%rbx,4)
	LONG $0x0411fcc5; BYTE $0x9f         // vmovups	%ymm0, (%rdi,%rbx,4)
	LONG $0x40c38348                     // addq	$64, %rbx
	LONG $0xf8c38349                     // addq	$-8, %r11
	JNE  BB2_17

BB2_18:
	WORD $0x8548; BYTE $0xf6 // testq	%rsi, %rsi
	JE   BB2_21
	LONG $0x9a1c8d48         // leaq	(%rdx,%rbx,4), %rbx
	WORD $0x3145; BYTE $0xdb // xorl	%r11d, %r11d

BB2_20:
	LONG $0x117ca1c4; WORD $0x1b04 // vmovups	%ymm0, (%rbx,%r11)
	LONG $0x20c38349               // addq	$32, %r11
	WORD $0x394d; BYTE $0xd9       // cmpq	%r11, %r9
	JNE  BB2_20
	JMP  BB2_21

BB2_22:
	WORD $0xf8c5; BYTE $0x77 // vzeroupper
	RET

TEXT 路matmul_avx2_f64(SB), $48-48
	MOVQ a+0(FP), DI
	MOVQ b+8(FP), SI
	MOVQ c+16(FP), DX
	MOVQ pm+24(FP), CX
	MOVQ pn+32(FP), R8
	MOVQ pk+40(FP), R9
	LONG $0x24748948; BYTE $0x20           // movq	%rsi, 32(%rsp)
	LONG $0x243c8948                       // movq	%rdi, (%rsp)
	WORD $0x8b48; BYTE $0x01               // movq	(%rcx), %rax
	WORD $0x8b49; BYTE $0x08               // movq	(%r8), %rcx
	LONG $0x24448948; BYTE $0x08           // movq	%rax, 8(%rsp)
	WORD $0x8548; BYTE $0xc0               // testq	%rax, %rax
	WORD $0x9f0f; BYTE $0xc0               // setg	%al
	WORD $0x8548; BYTE $0xc9               // testq	%rcx, %rcx
	LONG $0xc69f0f40                       // setg	%sil
	WORD $0x2040; BYTE $0xc6               // andb	%al, %sil
	LONG $0x01fe8040                       // cmpb	$1, %sil
	JNE  BB3_22
	WORD $0x8b49; BYTE $0x39               // movq	(%r9), %rdi
	WORD $0x8548; BYTE $0xff               // testq	%rdi, %rdi
	JLE  BB3_2
	WORD $0x8941; BYTE $0xf9               // movl	%edi, %r9d
	LONG $0x03e18341                       // andl	$3, %r9d
	QUAD $0xfffffffffff8ba49; WORD $0x7fff // movabsq	$9223372036854775800, %r10
	LONG $0x04ca8349                       // orq	$4, %r10
	WORD $0x2149; BYTE $0xfa               // andq	%rdi, %r10
	LONG $0x24048b48                       // movq	(%rsp), %rax
	LONG $0x18588d4c                       // leaq	24(%rax), %r11
	QUAD $0x00000000fd048d48               // leaq	(,%rdi,8), %rax
	LONG $0x24448948; BYTE $0x10           // movq	%rax, 16(%rsp)
	QUAD $0x00000000cd348d4c               // leaq	(,%rcx,8), %r14
	LONG $0x763c8d4f                       // leaq	(%r14,%r14,2), %r15
	WORD $0x8949; BYTE $0xcc               // movq	%rcx, %r12
	LONG $0x05e4c149                       // shlq	$5, %r12
	WORD $0x8949; BYTE $0xcd               // movq	%rcx, %r13
	LONG $0x04e5c149                       // shlq	$4, %r13
	WORD $0xf631                           // xorl	%esi, %esi
	LONG $0x24548948; BYTE $0x18           // movq	%rdx, 24(%rsp)
	JMP  BB3_6

BB3_15:
	LONG $0x24748b48; BYTE $0x28 // movq	40(%rsp), %rsi
	WORD $0xff48; BYTE $0xc6     // incq	%rsi
	LONG $0x24448b48; BYTE $0x10 // movq	16(%rsp), %rax
	WORD $0x0149; BYTE $0xc3     // addq	%rax, %r11
	LONG $0x24040148             // addq	%rax, (%rsp)
	LONG $0x24743b48; BYTE $0x08 // cmpq	8(%rsp), %rsi
	LONG $0x24548b48; BYTE $0x18 // movq	24(%rsp), %rdx
	JE   BB3_22

BB3_6:
	LONG $0x24748948; BYTE $0x28 // movq	%rsi, 40(%rsp)
	WORD $0x8948; BYTE $0xf0     // movq	%rsi, %rax
	LONG $0xc1af0f48             // imulq	%rcx, %rax
	LONG $0xc2048d48             // leaq	(%rdx,%rax,8), %rax
	LONG $0x24548b48; BYTE $0x20 // movq	32(%rsp), %rdx
	WORD $0xdb31                 // xorl	%ebx, %ebx
	JMP  BB3_7

BB3_14:
	LONG $0x0411fdc5; BYTE $0xd8 // vmovupd	%ymm0, (%rax,%rbx,8)
	LONG $0x04c38348             // addq	$4, %rbx
	LONG $0x20c28348             // addq	$32, %rdx
	WORD $0x3948; BYTE $0xcb     // cmpq	%rcx, %rbx
	JGE  BB3_15

BB3_7:
	LONG $0xc057f9c5 // vxorpd	%xmm0, %xmm0, %xmm0
	LONG $0x04ff8348 // cmpq	$4, %rdi
	JAE  BB3_9
	WORD $0xed31     // xorl	%ebp, %ebp
	JMP  BB3_11

BB3_9:
	WORD $0x8948; BYTE $0xd6 // movq	%rdx, %rsi
	WORD $0xed31             // xorl	%ebp, %ebp

BB3_10:
	LONG $0x197dc2c4; WORD $0xeb4c; BYTE $0xe8 // vbroadcastsd	-24(%r11,%rbp,8), %ymm1
	LONG $0x98fde2c4; BYTE $0x0e               // vfmadd132pd	(%rsi), %ymm0, %ymm1
	LONG $0x197dc2c4; WORD $0xeb44; BYTE $0xf0 // vbroadcastsd	-16(%r11,%rbp,8), %ymm0
	LONG $0x98f5e2c4; WORD $0xce04             // vfmadd132pd	(%rsi,%rcx,8), %ymm1, %ymm0
	LONG $0x197dc2c4; WORD $0xeb4c; BYTE $0xf8 // vbroadcastsd	-8(%r11,%rbp,8), %ymm1
	LONG $0x98fda2c4; WORD $0x2e0c             // vfmadd132pd	(%rsi,%r13), %ymm0, %ymm1
	LONG $0x197dc2c4; WORD $0xeb04             // vbroadcastsd	(%r11,%rbp,8), %ymm0
	LONG $0x98f5a2c4; WORD $0x3e04             // vfmadd132pd	(%rsi,%r15), %ymm1, %ymm0
	LONG $0x04c58348                           // addq	$4, %rbp
	WORD $0x014c; BYTE $0xe6                   // addq	%r12, %rsi
	WORD $0x3949; BYTE $0xea                   // cmpq	%rbp, %r10
	JNE  BB3_10

BB3_11:
	WORD $0x854d; BYTE $0xc9 // testq	%r9, %r9
	JE   BB3_14
	WORD $0x894c; BYTE $0xf6 // movq	%r14, %rsi
	LONG $0xf5af0f48         // imulq	%rbp, %rsi
	WORD $0x0148; BYTE $0xd6 // addq	%rdx, %rsi
	LONG $0x24048b4c         // movq	(%rsp), %r8
	LONG $0xe82c8d49         // leaq	(%r8,%rbp,8), %rbp
	WORD $0x3145; BYTE $0xc0 // xorl	%r8d, %r8d

BB3_13:
	LONG $0x197da2c4; WORD $0xc54c; BYTE $0x00 // vbroadcastsd	(%rbp,%r8,8), %ymm1
	LONG $0xb8f5e2c4; BYTE $0x06               // vfmadd231pd	(%rsi), %ymm1, %ymm0
	WORD $0xff49; BYTE $0xc0                   // incq	%r8
	WORD $0x014c; BYTE $0xf6                   // addq	%r14, %rsi
	WORD $0x394d; BYTE $0xc1                   // cmpq	%r8, %r9
	JNE  BB3_13
	JMP  BB3_14

BB3_2:
	LONG $0xff418d48                           // leaq	-1(%rcx), %rax
	LONG $0x02e8c148                           // shrq	$2, %rax
	WORD $0xff48; BYTE $0xc0                   // incq	%rax
	WORD $0xc689                               // movl	%eax, %esi
	WORD $0xe683; BYTE $0x07                   // andl	$7, %esi
	LONG $0xf8e08348                           // andq	$-8, %rax
	LONG $0xe0ba8d48; WORD $0x0000; BYTE $0x00 // leaq	224(%rdx), %rdi
	QUAD $0x00000000cd048d4c                   // leaq	(,%rcx,8), %r8
	WORD $0x8941; BYTE $0xf1                   // movl	%esi, %r9d
	LONG $0x05e1c141                           // shll	$5, %r9d
	WORD $0x3145; BYTE $0xd2                   // xorl	%r10d, %r10d
	LONG $0xc057f9c5                           // vxorpd	%xmm0, %xmm0, %xmm0
	JMP  BB3_3

BB3_21:
	WORD $0xff49; BYTE $0xc2     // incq	%r10
	WORD $0x014c; BYTE $0xc7     // addq	%r8, %rdi
	WORD $0x014c; BYTE $0xc2     // addq	%r8, %rdx
	LONG $0x24543b4c; BYTE $0x08 // cmpq	8(%rsp), %r10
	JE   BB3_22

BB3_3:
	LONG $0x1df98348 // cmpq	$29, %rcx
	JAE  BB3_16
	WORD $0xdb31     // xorl	%ebx, %ebx
	JMP  BB3_18

BB3_16:
	WORD $0x8949; BYTE $0xc3 // movq	%rax, %r11
	WORD $0xdb31             // xorl	%ebx, %ebx

BB3_17:
	QUAD $0xffff20df8411fdc5; BYTE $0xff // vmovupd	%ymm0, -224(%rdi,%rbx,8)
	QUAD $0xffff40df8411fdc5; BYTE $0xff // vmovupd	%ymm0, -192(%rdi,%rbx,8)
	QUAD $0xffff60df8411fdc5; BYTE $0xff // vmovupd	%ymm0, -160(%rdi,%rbx,8)
	LONG $0x4411fdc5; WORD $0x80df       // vmovupd	%ymm0, -128(%rdi,%rbx,8)
	LONG $0x4411fdc5; WORD $0xa0df       // vmovupd	%ymm0, -96(%rdi,%rbx,8)
	LONG $0x4411fdc5; WORD $0xc0df       // vmovupd	%ymm0, -64(%rdi,%rbx,8)
	LONG $0x4411fdc5; WORD $0xe0df       // vmovupd	%ymm0, -32(%rdi,%rbx,8)
	LONG $0x0411fdc5; BYTE $0xdf         // vmovupd	%ymm0, (%rdi,%rbx,8)
	LONG $0x20c38348                     // addq	$32, %rbx
	LONG $0xf8c38349                     // addq	$-8, %r11
	JNE  BB3_17

BB3_18:
	WORD $0x8548; BYTE $0xf6 // testq	%rsi, %rsi
	JE   BB3_21
	LONG $0xda1c8d48         // leaq	(%rdx,%rbx,8), %rbx
	WORD $0x3145; BYTE $0xdb // xorl	%r11d, %r11d

BB3_20:
	LONG $0x117da1c4; WORD $0x1b04 // vmovupd	%ymm0, (%rbx,%r11)
	LONG $0x20c38349               // addq	$32, %r11
	WORD $0x394d; BYTE $0xd9       // cmpq	%r11, %r9
	JNE  BB3_20
	JMP  BB3_21

BB3_22:
	WORD $0xf8c5; BYTE $0x77 // vzeroupper
	RET
