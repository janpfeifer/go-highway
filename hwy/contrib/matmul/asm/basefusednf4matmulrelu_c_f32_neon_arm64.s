//go:build !noasm && arm64
// Code generated by GoAT. DO NOT EDIT.
// versions:
// 	clang   21.1.8
// 	objdump 2.45.1
// flags: -march=armv8-a+simd+fp -fno-builtin-memset -O3
// source: /Users/ajroetker/go/src/github.com/ajroetker/go-highway/hwy/contrib/matmul/asm/basefusednf4matmulrelu_c_f32_neon_arm64.c

TEXT Â·fusednf4matmulrelu_c_f32_neon(SB), $144-64
	MOVD input+0(FP), R0
	MOVD packed+8(FP), R1
	MOVD scales+16(FP), R2
	MOVD output+24(FP), R3
	MOVD pM+32(FP), R4
	MOVD pK+40(FP), R5
	MOVD pN+48(FP), R6
	MOVD pgroupSize+56(FP), R7
	WORD $0xf80403f9           // str	x25, [sp, #-80]!                ; 8-byte Folded Spill [transformed]
	WORD $0xa9055ff8           // stp	x24, x23, [sp, #16]             ; 16-byte Folded Spill [offset adjusted]
	WORD $0xa90657f6           // stp	x22, x21, [sp, #32]             ; 16-byte Folded Spill [offset adjusted]
	WORD $0xa9074ff4           // stp	x20, x19, [sp, #48]             ; 16-byte Folded Spill [offset adjusted]
	WORD $0xa9087bfd           // stp	x29, x30, [sp, #64]             ; 16-byte Folded Spill [offset adjusted]
	WORD $0x910103fd           // add	x29, sp, #64
	WORD $0xf81a03a3           // stur	x3, [x29, #-96]                 ; 8-byte Folded Spill
	WORD $0x90000008           // adrp	x8, ___stack_chk_guard@GOTPAGE
	WORD $0xf9400108           // ldr	x8, [x8, ___stack_chk_guard@GOTPAGEOFF]
	WORD $0xf9400108           // ldr	x8, [x8]
	WORD $0xf81b83a8           // stur	x8, [x29, #-72]
	WORD $0xf94000a8           // ldr	x8, [x5]
	WORD $0xf9400090           // ldr	x16, [x4]
	WORD $0xf94000ca           // ldr	x10, [x6]
	WORD $0xf100021f           // cmp	x16, #0
	WORD $0xfa401904           // ccmp	x8, #0, #4, ne
	WORD $0xfa401944           // ccmp	x10, #0, #4, ne
	BEQ  BB0_21
	WORD $0x910003e9           // mov	x9, sp
	WORD $0xf81803a9           // stur	x9, [x29, #-128]                ; 8-byte Folded Spill
	WORD $0xd10043eb           // sub	x11, sp, #16
	WORD $0x9100017f           // mov	sp, x11
	WORD $0xf100061f           // cmp	x16, #1
	BLT  BB0_20
	WORD $0xd2800003           // mov	x3, #0                          ; =0x0
	WORD $0xf94000ed           // ldr	x13, [x7]
	WORD $0x8b0d014e           // add	x14, x10, x13
	WORD $0xd10005ce           // sub	x14, x14, #1
	WORD $0x9acd0dcf           // sdiv	x15, x14, x13
	WORD $0xd37ef549           // lsl	x9, x10, #2
	WORD $0xf81983a9           // stur	x9, [x29, #-104]                ; 8-byte Folded Spill
	WORD $0xd37ef5ef           // lsl	x15, x15, #2
	WORD $0xd37ef509           // lsl	x9, x8, #2
	WORD $0xa938a7b0           // stp	x16, x9, [x29, #-120]           ; 16-byte Folded Spill
	WORD $0x90000011           // adrp	x17, _nf4LookupTable@PAGE
	WORD $0x91000231           // add	x17, x17, _nf4LookupTable@PAGEOFF
	WORD $0x2f00e400           // movi	d0, #0000000000000000
	WORD $0x6f00e401           // movi.2d	v1, #0000000000000000
	WORD $0xf85a03ae           // ldur	x14, [x29, #-96]                ; 8-byte Folded Reload
	B    BB0_4

BB0_3:
	WORD $0x91000463 // add	x3, x3, #1
	WORD $0xf85983a9 // ldur	x9, [x29, #-104]                ; 8-byte Folded Reload
	WORD $0x8b0901ce // add	x14, x14, x9
	WORD $0xf85903a9 // ldur	x9, [x29, #-112]                ; 8-byte Folded Reload
	WORD $0x8b090000 // add	x0, x0, x9
	WORD $0xeb10007f // cmp	x3, x16
	BEQ  BB0_20

BB0_4:
	WORD $0x9b0a7c64 // mul	x4, x3, x10
	WORD $0xf85a03a9 // ldur	x9, [x29, #-96]                 ; 8-byte Folded Reload
	WORD $0x8b040927 // add	x7, x9, x4, lsl #2
	WORD $0xf100115f // cmp	x10, #4
	BGE  BB0_6
	WORD $0xa93a8fae // stp	x14, x3, [x29, #-88]            ; 16-byte Folded Spill
	WORD $0xd2800006 // mov	x6, #0                          ; =0x0
	B    BB0_11

BB0_6:
	WORD $0xf100051f // cmp	x8, #1
	BLT  BB0_16
	WORD $0xa93a8fae // stp	x14, x3, [x29, #-88]            ; 16-byte Folded Spill
	WORD $0xd2800013 // mov	x19, #0                         ; =0x0
	WORD $0x52800084 // mov	w4, #4                          ; =0x4

BB0_8:
	WORD $0xd2800014 // mov	x20, #0                         ; =0x0
	WORD $0xaa0403e6 // mov	x6, x4
	WORD $0x9acd0e75 // sdiv	x21, x19, x13
	WORD $0xb2400264 // orr	x4, x19, #0x1
	WORD $0x9acd0c96 // sdiv	x22, x4, x13
	WORD $0xb27f0264 // orr	x4, x19, #0x2
	WORD $0x9acd0c97 // sdiv	x23, x4, x13
	WORD $0xb2400664 // orr	x4, x19, #0x3
	WORD $0x6f00e402 // movi.2d	v2, #0000000000000000
	WORD $0xaa0003f8 // mov	x24, x0
	WORD $0xaa0203f9 // mov	x25, x2
	WORD $0xaa0803fe // mov	x30, x8
	WORD $0x9acd0c84 // sdiv	x4, x4, x13

BB0_9:
	WORD $0x8b14026e // add	x14, x19, x20
	WORD $0xd341fdc3 // lsr	x3, x14, #1
	WORD $0x38636823 // ldrb	w3, [x1, x3]
	WORD $0x12000c70 // and	w16, w3, #0xf
	WORD $0x53047c63 // lsr	w3, w3, #4
	WORD $0x910005c9 // add	x9, x14, #1
	WORD $0xd341fd2c // lsr	x12, x9, #1
	WORD $0x386c682c // ldrb	w12, [x1, x12]
	WORD $0x12000d85 // and	w5, w12, #0xf
	WORD $0x53047d8c // lsr	w12, w12, #4
	WORD $0xf240013f // tst	x9, #0x1
	WORD $0x1a8c00a9 // csel	w9, w5, w12, eq
	WORD $0xf240029f // tst	x20, #0x1
	WORD $0x1a83020c // csel	w12, w16, w3, eq
	WORD $0xbc757b23 // ldr	s3, [x25, x21, lsl #2]
	WORD $0xbc6c5a24 // ldr	s4, [x17, w12, uxtw #2]
	WORD $0x1e240863 // fmul	s3, s3, s4
	WORD $0xbc767b24 // ldr	s4, [x25, x22, lsl #2]
	WORD $0xbc695a25 // ldr	s5, [x17, w9, uxtw #2]
	WORD $0x1e250884 // fmul	s4, s4, s5
	WORD $0x910009c9 // add	x9, x14, #2
	WORD $0xd341fd29 // lsr	x9, x9, #1
	WORD $0x38696829 // ldrb	w9, [x1, x9]
	WORD $0x12000d2c // and	w12, w9, #0xf
	WORD $0x53047d29 // lsr	w9, w9, #4
	WORD $0x1a890189 // csel	w9, w12, w9, eq
	WORD $0xbc777b25 // ldr	s5, [x25, x23, lsl #2]
	WORD $0xbc695a26 // ldr	s6, [x17, w9, uxtw #2]
	WORD $0x2d001163 // stp	s3, s4, [x11]
	WORD $0x1e2608a3 // fmul	s3, s5, s6
	WORD $0x91000dc9 // add	x9, x14, #3
	WORD $0xd341fd2c // lsr	x12, x9, #1
	WORD $0x386c682c // ldrb	w12, [x1, x12]
	WORD $0x12000d8e // and	w14, w12, #0xf
	WORD $0x53047d8c // lsr	w12, w12, #4
	WORD $0xf240013f // tst	x9, #0x1
	WORD $0x1a8c01c9 // csel	w9, w14, w12, eq
	WORD $0xbc647b24 // ldr	s4, [x25, x4, lsl #2]
	WORD $0xbc695a25 // ldr	s5, [x17, w9, uxtw #2]
	WORD $0x1e250884 // fmul	s4, s4, s5
	WORD $0xbc404705 // ldr	s5, [x24], #4
	WORD $0x2d011163 // stp	s3, s4, [x11, #8]
	WORD $0x3dc00163 // ldr	q3, [x11]
	WORD $0x4f851062 // fmla.4s	v2, v3, v5[0]
	WORD $0x8b0f0339 // add	x25, x25, x15
	WORD $0x8b0a0294 // add	x20, x20, x10
	WORD $0xf10007de // subs	x30, x30, #1
	BNE  BB0_9
	WORD $0x4e21f442 // fmax.4s	v2, v2, v1
	WORD $0xd37ef669 // lsl	x9, x19, #2
	WORD $0x3ca968e2 // str	q2, [x7, x9]
	WORD $0x910010c4 // add	x4, x6, #4
	WORD $0x91001273 // add	x19, x19, #4
	WORD $0xeb0a009f // cmp	x4, x10
	BLE  BB0_8

BB0_11:
	WORD $0xeb0a00df // cmp	x6, x10
	WORD $0xf85883b0 // ldur	x16, [x29, #-120]               ; 8-byte Folded Reload
	WORD $0xa97a8fae // ldp	x14, x3, [x29, #-88]            ; 16-byte Folded Reload
	BGE  BB0_3
	WORD $0xf100011f // cmp	x8, #0
	BLE  BB0_19

BB0_13:
	WORD $0xd2800004 // mov	x4, #0                          ; =0x0
	WORD $0x9acd0cc9 // sdiv	x9, x6, x13
	WORD $0x8b090853 // add	x19, x2, x9, lsl #2
	WORD $0x2f00e402 // movi	d2, #0000000000000000
	WORD $0xaa0603f4 // mov	x20, x6

BB0_14:
	WORD $0x8b54fe89 // add	x9, x20, x20, lsr #63
	WORD $0x9341fd29 // asr	x9, x9, #1
	WORD $0x38696829 // ldrb	w9, [x1, x9]
	WORD $0x12000d2c // and	w12, w9, #0xf
	WORD $0x53047d29 // lsr	w9, w9, #4
	WORD $0xf240029f // tst	x20, #0x1
	WORD $0x1a890189 // csel	w9, w12, w9, eq
	WORD $0xbd400263 // ldr	s3, [x19]
	WORD $0xbc695a24 // ldr	s4, [x17, w9, uxtw #2]
	WORD $0xbc647805 // ldr	s5, [x0, x4, lsl #2]
	WORD $0x1e240863 // fmul	s3, s3, s4
	WORD $0x1f0308a2 // fmadd	s2, s5, s3, s2
	WORD $0x91000484 // add	x4, x4, #1
	WORD $0x8b0f0273 // add	x19, x19, x15
	WORD $0x8b0a0294 // add	x20, x20, x10
	WORD $0xeb04011f // cmp	x8, x4
	BNE  BB0_14
	WORD $0x1e202048 // fcmp	s2, #0.0
	WORD $0x1e224c02 // fcsel	s2, s0, s2, mi
	WORD $0xbc2678e2 // str	s2, [x7, x6, lsl #2]
	WORD $0x910004c6 // add	x6, x6, #1
	WORD $0xeb0a00df // cmp	x6, x10
	BNE  BB0_13
	B    BB0_3

BB0_16:
	WORD $0xd2800006 // mov	x6, #0                          ; =0x0
	WORD $0xaa0e03e4 // mov	x4, x14

BB0_17:
	WORD $0x3c810481 // str	q1, [x4], #16
	WORD $0x910020c9 // add	x9, x6, #8
	WORD $0x910010c6 // add	x6, x6, #4
	WORD $0xeb0a013f // cmp	x9, x10
	BLE  BB0_17
	WORD $0xeb0a00df // cmp	x6, x10
	BGE  BB0_3

BB0_19:
	WORD $0xb82679df // str	wzr, [x14, x6, lsl #2]
	WORD $0x910004c6 // add	x6, x6, #1
	WORD $0xeb06015f // cmp	x10, x6
	BNE  BB0_19
	B    BB0_3

BB0_20:
	WORD $0xf85803a8 // ldur	x8, [x29, #-128]                ; 8-byte Folded Reload
	WORD $0x9100011f // mov	sp, x8

BB0_21:
	WORD $0xf85b83a8 // ldur	x8, [x29, #-72]
	WORD $0x90000009 // adrp	x9, ___stack_chk_guard@GOTPAGE
	WORD $0xf9400129 // ldr	x9, [x9, ___stack_chk_guard@GOTPAGEOFF]
	WORD $0xf9400129 // ldr	x9, [x9]
	WORD $0xeb08013f // cmp	x9, x8
	BNE  BB0_23
	WORD $0xd10103bf // sub	sp, x29, #64
	WORD $0xa9487bfd // ldp	x29, x30, [sp, #64]             ; 16-byte Folded Reload [offset adjusted]
	WORD $0xa9474ff4 // ldp	x20, x19, [sp, #48]             ; 16-byte Folded Reload [offset adjusted]
	WORD $0xa94657f6 // ldp	x22, x21, [sp, #32]             ; 16-byte Folded Reload [offset adjusted]
	WORD $0xa9455ff8 // ldp	x24, x23, [sp, #16]             ; 16-byte Folded Reload [offset adjusted]
	WORD $0xf84403f9 // ldr	x25, [sp], #80                  ; 8-byte Folded Reload [transformed]
	RET

BB0_23:
	WORD $0x94000000 // bl	___stack_chk_fail
