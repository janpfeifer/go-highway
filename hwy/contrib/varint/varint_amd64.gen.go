// Code generated by github.com/ajroetker/go-highway/cmd/hwygen. DO NOT EDIT.

//go:build amd64 && goexperiment.simd

package varint

import (
	"simd/archsimd"

	"github.com/ajroetker/go-highway/hwy"
)

var FindVarintEnds func(src []byte) uint32
var DecodeUvarint64Batch func(src []byte, dst []uint64, n int) (decoded int, consumed int)
var Decode2Uvarint64 func(src []byte) (v1 uint64, v2 uint64, consumed int)
var Decode5Uvarint64 func(src []byte) (values [5]uint64, consumed int)
var DecodeUvarint64BatchWithMask func(src []byte, dst []uint64, mask uint32, n int) (decoded int, consumed int)

func init() {
	if hwy.NoSimdEnv() {
		initVarintFallback()
		return
	}
	if archsimd.X86.AVX512() {
		initVarintAVX512()
		return
	}
	if archsimd.X86.AVX2() {
		initVarintAVX2()
		return
	}
	initVarintFallback()
}

func initVarintAVX2() {
	FindVarintEnds = BaseFindVarintEnds_avx2
	DecodeUvarint64Batch = BaseDecodeUvarint64Batch_avx2
	Decode2Uvarint64 = BaseDecode2Uvarint64_avx2
	Decode5Uvarint64 = BaseDecode5Uvarint64_avx2
	DecodeUvarint64BatchWithMask = BaseDecodeUvarint64BatchWithMask_avx2
}

func initVarintAVX512() {
	FindVarintEnds = BaseFindVarintEnds_avx512
	DecodeUvarint64Batch = BaseDecodeUvarint64Batch_avx512
	Decode2Uvarint64 = BaseDecode2Uvarint64_avx512
	Decode5Uvarint64 = BaseDecode5Uvarint64_avx512
	DecodeUvarint64BatchWithMask = BaseDecodeUvarint64BatchWithMask_avx512
}

func initVarintFallback() {
	FindVarintEnds = BaseFindVarintEnds_fallback
	DecodeUvarint64Batch = BaseDecodeUvarint64Batch_fallback
	Decode2Uvarint64 = BaseDecode2Uvarint64_fallback
	Decode5Uvarint64 = BaseDecode5Uvarint64_fallback
	DecodeUvarint64BatchWithMask = BaseDecodeUvarint64BatchWithMask_fallback
}
