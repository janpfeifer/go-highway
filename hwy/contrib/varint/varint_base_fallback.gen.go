// Code generated by hwygen. DO NOT EDIT.

package varint

import (
	"github.com/ajroetker/go-highway/hwy"
)

func BaseFindVarintEnds_fallback(src []byte) uint32 {
	if len(src) == 0 {
		return 0
	}
	n := min(len(src), 32)
	if n == 32 {
		threshold := hwy.Set[uint8](0x80)
		v := hwy.Load[uint8](src[:32])
		isTerminator := hwy.LessThan(v, threshold)
		return uint32(hwy.BitsFromMask(isTerminator))
	}
	var mask uint32
	for i := 0; i < n; i++ {
		if src[i] < 0x80 {
			mask |= 1 << uint(i)
		}
	}
	return mask
}
