// Code generated by github.com/ajroetker/go-highway/cmd/hwygen. DO NOT EDIT.

//go:build arm64

package vec

import (
	"github.com/ajroetker/go-highway/hwy/asm"
	"unsafe"
)

func BaseEncodeFloat32s_neon(dst []byte, src []float32) {
	if len(src) == 0 {
		return
	}
	totalBytes := len(src) * 4
	if len(dst) < totalBytes {
		panic("dst is too short")
	}
	srcBytes := unsafe.Slice((*byte)(unsafe.Pointer(&src[0])), totalBytes)
	lanes := 16
	i := 0
	for ; i+lanes <= totalBytes; i += lanes {
		v := asm.LoadUint8x16((*[16]uint8)(unsafe.Pointer(&srcBytes[i])))
		v.StoreSlice(dst[i:])
	}
	for ; i < totalBytes; i++ {
		dst[i] = srcBytes[i]
	}
}

func BaseDecodeFloat32s_neon(dst []float32, src []byte) {
	if len(dst) == 0 {
		return
	}
	totalBytes := len(dst) * 4
	if len(src) < totalBytes {
		panic("src is too short")
	}
	dstBytes := unsafe.Slice((*byte)(unsafe.Pointer(&dst[0])), totalBytes)
	lanes := 16
	i := 0
	for ; i+lanes <= totalBytes; i += lanes {
		v := asm.LoadUint8x16((*[16]uint8)(unsafe.Pointer(&src[i])))
		v.StoreSlice(dstBytes[i:])
	}
	for ; i < totalBytes; i++ {
		dstBytes[i] = src[i]
	}
}

func BaseEncodeFloat64s_neon(dst []byte, src []float64) {
	if len(src) == 0 {
		return
	}
	totalBytes := len(src) * 8
	if len(dst) < totalBytes {
		panic("dst is too short")
	}
	srcBytes := unsafe.Slice((*byte)(unsafe.Pointer(&src[0])), totalBytes)
	lanes := 16
	i := 0
	for ; i+lanes <= totalBytes; i += lanes {
		v := asm.LoadUint8x16((*[16]uint8)(unsafe.Pointer(&srcBytes[i])))
		v.StoreSlice(dst[i:])
	}
	for ; i < totalBytes; i++ {
		dst[i] = srcBytes[i]
	}
}

func BaseDecodeFloat64s_neon(dst []float64, src []byte) {
	if len(dst) == 0 {
		return
	}
	totalBytes := len(dst) * 8
	if len(src) < totalBytes {
		panic("src is too short")
	}
	dstBytes := unsafe.Slice((*byte)(unsafe.Pointer(&dst[0])), totalBytes)
	lanes := 16
	i := 0
	for ; i+lanes <= totalBytes; i += lanes {
		v := asm.LoadUint8x16((*[16]uint8)(unsafe.Pointer(&src[i])))
		v.StoreSlice(dstBytes[i:])
	}
	for ; i < totalBytes; i++ {
		dstBytes[i] = src[i]
	}
}
