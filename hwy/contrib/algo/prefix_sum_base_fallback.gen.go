// Code generated by github.com/ajroetker/go-highway/cmd/hwygen. DO NOT EDIT.

package algo

import (
	"github.com/ajroetker/go-highway/hwy"
)

func BasePrefixSum_fallback(data []float32) {
	n := len(data)
	if n == 0 {
		return
	}
	lanes := hwy.MaxLanes[float32]()
	carry := float32(0)
	i := 0
	for ; i+lanes <= n; i += lanes {
		v := hwy.Load(data[i:])
		prefixed := BasePrefixSumVec_fallback(v)
		prefixed = hwy.Add(prefixed, hwy.Set[float32](carry))
		hwy.Store(prefixed, data[i:])
		carry = hwy.GetLane(prefixed, lanes-1)
	}
	for ; i < n; i++ {
		carry += data[i]
		data[i] = carry
	}
}

func BasePrefixSum_fallback_Float64(data []float64) {
	n := len(data)
	if n == 0 {
		return
	}
	lanes := hwy.MaxLanes[float64]()
	carry := float64(0)
	i := 0
	for ; i+lanes <= n; i += lanes {
		v := hwy.Load(data[i:])
		prefixed := BasePrefixSumVec_fallback_Float64(v)
		prefixed = hwy.Add(prefixed, hwy.Set[float64](carry))
		hwy.Store(prefixed, data[i:])
		carry = hwy.GetLane(prefixed, lanes-1)
	}
	for ; i < n; i++ {
		carry += data[i]
		data[i] = carry
	}
}

func BasePrefixSum_fallback_Int32(data []int32) {
	n := len(data)
	if n == 0 {
		return
	}
	lanes := hwy.MaxLanes[int32]()
	carry := int32(0)
	i := 0
	for ; i+lanes <= n; i += lanes {
		v := hwy.Load(data[i:])
		prefixed := BasePrefixSumVec_fallback_Int32(v)
		prefixed = hwy.Add(prefixed, hwy.Set[int32](carry))
		hwy.Store(prefixed, data[i:])
		carry = hwy.GetLane(prefixed, lanes-1)
	}
	for ; i < n; i++ {
		carry += data[i]
		data[i] = carry
	}
}

func BasePrefixSum_fallback_Int64(data []int64) {
	n := len(data)
	if n == 0 {
		return
	}
	lanes := hwy.MaxLanes[int64]()
	carry := int64(0)
	i := 0
	for ; i+lanes <= n; i += lanes {
		v := hwy.Load(data[i:])
		prefixed := BasePrefixSumVec_fallback_Int64(v)
		prefixed = hwy.Add(prefixed, hwy.Set[int64](carry))
		hwy.Store(prefixed, data[i:])
		carry = hwy.GetLane(prefixed, lanes-1)
	}
	for ; i < n; i++ {
		carry += data[i]
		data[i] = carry
	}
}

func BasePrefixSum_fallback_Uint32(data []uint32) {
	n := len(data)
	if n == 0 {
		return
	}
	lanes := hwy.MaxLanes[uint32]()
	carry := uint32(0)
	i := 0
	for ; i+lanes <= n; i += lanes {
		v := hwy.Load(data[i:])
		prefixed := BasePrefixSumVec_fallback_Uint32(v)
		prefixed = hwy.Add(prefixed, hwy.Set[uint32](carry))
		hwy.Store(prefixed, data[i:])
		carry = hwy.GetLane(prefixed, lanes-1)
	}
	for ; i < n; i++ {
		carry += data[i]
		data[i] = carry
	}
}

func BasePrefixSum_fallback_Uint64(data []uint64) {
	n := len(data)
	if n == 0 {
		return
	}
	lanes := hwy.MaxLanes[uint64]()
	carry := uint64(0)
	i := 0
	for ; i+lanes <= n; i += lanes {
		v := hwy.Load(data[i:])
		prefixed := BasePrefixSumVec_fallback_Uint64(v)
		prefixed = hwy.Add(prefixed, hwy.Set[uint64](carry))
		hwy.Store(prefixed, data[i:])
		carry = hwy.GetLane(prefixed, lanes-1)
	}
	for ; i < n; i++ {
		carry += data[i]
		data[i] = carry
	}
}

func BaseDeltaDecode_fallback_Int32(data []int32, base int32) {
	n := len(data)
	if n == 0 {
		return
	}
	lanes := hwy.MaxLanes[int32]()
	carry := base
	i := 0
	for ; i+lanes <= n; i += lanes {
		v := hwy.Load(data[i:])
		prefixed := BasePrefixSumVec_fallback_Int32(v)
		prefixed = hwy.Add(prefixed, hwy.Set[int32](carry))
		hwy.Store(prefixed, data[i:])
		carry = hwy.GetLane(prefixed, lanes-1)
	}
	for ; i < n; i++ {
		carry += data[i]
		data[i] = carry
	}
}

func BaseDeltaDecode_fallback_Int64(data []int64, base int64) {
	n := len(data)
	if n == 0 {
		return
	}
	lanes := hwy.MaxLanes[int64]()
	carry := base
	i := 0
	for ; i+lanes <= n; i += lanes {
		v := hwy.Load(data[i:])
		prefixed := BasePrefixSumVec_fallback_Int64(v)
		prefixed = hwy.Add(prefixed, hwy.Set[int64](carry))
		hwy.Store(prefixed, data[i:])
		carry = hwy.GetLane(prefixed, lanes-1)
	}
	for ; i < n; i++ {
		carry += data[i]
		data[i] = carry
	}
}

func BaseDeltaDecode_fallback_Uint32(data []uint32, base uint32) {
	n := len(data)
	if n == 0 {
		return
	}
	lanes := hwy.MaxLanes[uint32]()
	carry := base
	i := 0
	for ; i+lanes <= n; i += lanes {
		v := hwy.Load(data[i:])
		prefixed := BasePrefixSumVec_fallback_Uint32(v)
		prefixed = hwy.Add(prefixed, hwy.Set[uint32](carry))
		hwy.Store(prefixed, data[i:])
		carry = hwy.GetLane(prefixed, lanes-1)
	}
	for ; i < n; i++ {
		carry += data[i]
		data[i] = carry
	}
}

func BaseDeltaDecode_fallback_Uint64(data []uint64, base uint64) {
	n := len(data)
	if n == 0 {
		return
	}
	lanes := hwy.MaxLanes[uint64]()
	carry := base
	i := 0
	for ; i+lanes <= n; i += lanes {
		v := hwy.Load(data[i:])
		prefixed := BasePrefixSumVec_fallback_Uint64(v)
		prefixed = hwy.Add(prefixed, hwy.Set[uint64](carry))
		hwy.Store(prefixed, data[i:])
		carry = hwy.GetLane(prefixed, lanes-1)
	}
	for ; i < n; i++ {
		carry += data[i]
		data[i] = carry
	}
}

func BasePrefixSumVec_fallback(v hwy.Vec[float32]) hwy.Vec[float32] {
	n := v.NumLanes()
	if n >= 2 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 1))
	}
	if n >= 4 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 2))
	}
	if n >= 8 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 4))
	}
	if n >= 16 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 8))
	}
	return v
}

func BasePrefixSumVec_fallback_Float64(v hwy.Vec[float64]) hwy.Vec[float64] {
	n := v.NumLanes()
	if n >= 2 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 1))
	}
	if n >= 4 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 2))
	}
	if n >= 8 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 4))
	}
	if n >= 16 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 8))
	}
	return v
}

func BasePrefixSumVec_fallback_Int32(v hwy.Vec[int32]) hwy.Vec[int32] {
	n := v.NumLanes()
	if n >= 2 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 1))
	}
	if n >= 4 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 2))
	}
	if n >= 8 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 4))
	}
	if n >= 16 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 8))
	}
	return v
}

func BasePrefixSumVec_fallback_Int64(v hwy.Vec[int64]) hwy.Vec[int64] {
	n := v.NumLanes()
	if n >= 2 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 1))
	}
	if n >= 4 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 2))
	}
	if n >= 8 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 4))
	}
	if n >= 16 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 8))
	}
	return v
}

func BasePrefixSumVec_fallback_Uint32(v hwy.Vec[uint32]) hwy.Vec[uint32] {
	n := v.NumLanes()
	if n >= 2 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 1))
	}
	if n >= 4 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 2))
	}
	if n >= 8 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 4))
	}
	if n >= 16 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 8))
	}
	return v
}

func BasePrefixSumVec_fallback_Uint64(v hwy.Vec[uint64]) hwy.Vec[uint64] {
	n := v.NumLanes()
	if n >= 2 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 1))
	}
	if n >= 4 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 2))
	}
	if n >= 8 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 4))
	}
	if n >= 16 {
		v = hwy.Add(v, hwy.SlideUpLanes(v, 8))
	}
	return v
}
